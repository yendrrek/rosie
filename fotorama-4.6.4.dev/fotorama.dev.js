fotoramaVersion="4.6.4",function(t,e,n,o,i){"use strict";var r="fotorama",a="fullscreen",s=r+"__wrap",u=s+"--css2",l=s+"--css3",c=s+"--video",f=s+"--fade",d=s+"--slide",h=s+"--no-controls",m=s+"--no-shadows",p=s+"--pan-y",v=s+"--rtl",w=s+"--only-active",g=s+"--no-captions",y=s+"--toggle-arrows",b=r+"__stage",x=b+"__frame",_=x+"--video",C=b+"__shaft",T=r+"__grab",k=r+"__pointer",M=r+"__arr",S=M+"--disabled",F=M+"--prev",E=M+"--next",P=r+"__nav",j=P+"-wrap",N=P+"__shaft",$=P+"--dots",q=P+"--thumbs",z=P+"__frame",A=z+"--dot",O=z+"--thumb",L=r+"__fade",I=L+"-front",D=L+"-rear",R=r+"__shadow"+"s",W=R+"--left",H=R+"--right",K=r+"__active",V=r+"__select",B=r+"--hidden",X=r+"--fullscreen",Q=r+"__fullscreen-icon",U=r+"__error",Y=r+"__loading",G=r+"__loaded",J=G+"--full",Z=G+"--img",tt=r+"__grabbing",et=r+"__img",nt=et+"--full",ot=r+"__dot",it=r+"__thumb",rt=it+"-border",at=r+"__html",st=r+"__video",ut=st+"-play",lt=st+"-close",ct=r+"__caption",ft=r+"__caption__wrap",dt=r+"__spinner",ht='" tabindex="0" role="button',mt=o&&o.fn.jquery.split(".");if(!mt||mt[0]<1||1==mt[0]&&mt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var pt=function(t,e,n){var o,i,r={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),f="Webkit Moz O ms".split(" "),d="Webkit Moz O ms".toLowerCase().split(" "),h={},m=[],p=m.slice,v={}.hasOwnProperty;function w(t){l.cssText=t}function g(t,e){return typeof t===e}function y(t,e){for(var o in t){var i=t[o];if(!~(""+i).indexOf("-")&&l[i]!==n)return"pfx"!=e||i}return!1}function b(t,e,o){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+f.join(i+" ")+i).split(" ");return g(e,"string")||g(e,"undefined")?y(r,e):function(t,e,o){for(var i in t){var r=e[t[i]];if(r!==n)return!1===o?t[i]:g(r,"function")?r.bind(o||e):r}return!1}(r=(t+" "+d.join(i+" ")+i).split(" "),e,o)}for(var x in i=g(v,"undefined")||g(v.call,"undefined")?function(t,e){return e in t&&g(t.constructor.prototype[e],"undefined")}:function(t,e){return v.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=p.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=e.prototype;var r=new i,a=e.apply(r,n.concat(p.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(p.call(arguments)))};return o}),h.csstransforms3d=function(){return!!b("perspective")},h)i(h,x)&&(o=x.toLowerCase(),r[o]=h[x](),m.push((r[o]?"":"no-")+o));return r.addTest=function(t,e){if("object"==typeof t)for(var o in t)i(t,o)&&r.addTest(o,t[o]);else{if(t=t.toLowerCase(),r[t]!==n)return r;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),r[t]=e}return r},w(""),u=null,r._version="2.6.2",r._prefixes=c,r._domPrefixes=d,r._cssomPrefixes=f,r.testProp=function(t){return y([t])},r.testAllProps=b,r.testStyles=function(t,n,o,i){var r,u,l,c,f=e.createElement("div"),d=e.body,h=d||e.createElement("body");if(parseInt(o,10))for(;o--;)(l=e.createElement("div")).id=i?i[o]:s+(o+1),f.appendChild(l);return r=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),f.id=s,(d?f:h).innerHTML+=r,h.appendChild(f),d||(h.style.background="",h.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),u=n(f,t),d?f.parentNode.removeChild(f):(h.parentNode.removeChild(h),a.style.overflow=c),!!u},r.prefixed=function(t,e,n){return e?b(t,e,n):b(t,"pfx")},r}(0,e),vt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},wt="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)vt.ok=!0;else for(var gt=0,yt=wt.length;gt<yt;gt++)if(vt.prefix=wt[gt],void 0!==e[vt.prefix+"CancelFullScreen"]){vt.ok=!0;break}vt.ok&&(vt.event=vt.prefix+"fullscreenchange",vt.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},vt.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},vt.cancel=function(t){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var bt,xt={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},_t={top:"auto",left:"auto",className:""};bt=function(){var t,n=["webkit","Moz","ms","O"],o={};function r(t,n){var o,i=e.createElement(t||"div");for(o in n)i[o]=n[o];return i}function a(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}var s=function(){if(null===e.querySelector('style[type="text/css"]')){var t=r("style",{type:"text/css"});return a(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}}();function u(e,n,i,r){var a=["opacity",n,~~(100*e),i,r].join("-"),u=.01+i/r*100,l=Math.max(1-(1-e)/n*(100-u),e),c=t.substring(0,t.indexOf("Animation")).toLowerCase(),f=c&&"-"+c+"-"||"";return o[a]||(s.insertRule("@"+f+"keyframes "+a+"{0%{opacity:"+l+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+n)%100+"%{opacity:"+e+"}100%{opacity:"+l+"}}",s.cssRules.length),o[a]=1),a}function l(t,e){var o,r,a=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++)if(o=n[r]+e,a[o]!==i)return o;if(a[e]!==i)return e}function c(t,e){for(var n in e)t.style[l(t,n)||n]=e[n];return t}function f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function d(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function h(t,e){return"string"==typeof t?t:t[e%t.length]}var m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function p(t){if(void 0===this)return new p(t);this.opts=f(t||{},p.defaults,m)}p.defaults={},f(p.prototype,{spin:function(e){this.stop();var n,o,i=this,a=i.opts,s=i.el=c(r(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(e&&(e.insertBefore(s,e.firstChild||null),o=d(e),n=d(s),c(s,{left:("auto"==a.left?o.x-n.x+(e.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?o.y-n.y+(e.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!t){var l,f=0,h=(a.lines-1)*(1-a.direction)/2,m=a.fps,p=m/a.speed,v=(1-a.opacity)/(p*a.trail/100),w=p/a.lines;!function t(){f++;for(var e=0;e<a.lines;e++)l=Math.max(1-(f+(a.lines-e)*w)%p*v,a.opacity),i.opacity(s,e*a.direction+h,l,a);i.timeout=i.el&&setTimeout(t,~~(1e3/m))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(e,n){var o,i=0,s=(n.lines-1)*(1-n.direction)/2;function l(t,e){return c(r(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*i+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;i<n.lines;i++)o=c(r(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:t&&u(n.opacity,n.trail,s+i*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&a(o,c(l("#000","0 0 4px #000"),{top:"2px"})),a(e,a(o,l(h(n.color,i),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var v=c(r("group"),{behavior:"url(#default#VML)"});return!l(v,"transform")&&v.adj?function(){function t(t,e){return r("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}s.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(e,n){var o=n.length+n.width,i=2*o;function r(){return c(t("group",{coordsize:i+" "+i,coordorigin:-o+" "+-o}),{width:i,height:i})}var s,u=2*-(n.width+n.length)+"px",l=c(r(),{position:"absolute",top:u,left:u});function f(e,i,s){a(l,a(c(r(),{rotation:360/n.lines*e+"deg",left:~~i}),a(c(t("roundrect",{arcsize:n.corners}),{width:o,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),t("fill",{color:h(n.color,e),opacity:n.opacity}),t("stroke",{opacity:0}))))}if(n.shadow)for(s=1;s<=n.lines;s++)f(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)f(s);return a(e,l)},p.prototype.opacity=function(t,e,n,o){var i=t.firstChild;o=o.shadow&&o.lines||0,i&&e+o<i.childNodes.length&&(i=(i=(i=i.childNodes[e+o])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():t=l(v,"animation"),p}();var Ct,Tt,kt,Mt,St,Ft,Et=o(t),Pt=o(e),jt="quirks"===n.hash.replace("#",""),Nt=pt.csstransforms3d,$t=Nt&&!jt,qt=Nt||"CSS1Compat"===e.compatMode,zt=vt.ok,At=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ot=!$t||At,Lt=navigator.msPointerEnabled,It="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==i?"mousewheel":"DOMMouseScroll",Dt=250,Rt=300,Wt=1400,Ht=5e3,Kt=64,Vt=500,Bt=333,Xt="$stageFrame",Qt="$navDotFrame",Ut="$navThumbFrame",Yt="auto",Gt=function(t){var e="bez_"+o.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof o.easing[e]){var n=function(t,e){var n=[null,null],o=[null,null],i=[null,null],r=function(r,a){return i[a]=3*t[a],o[a]=3*(e[a]-t[a])-i[a],n[a]=1-i[a]-o[a],r*(i[a]+r*(o[a]+r*n[a]))},a=function(t){return i[0]+t*(2*o[0]+3*n[0]*t)};return function(t){return r(function(t){for(var e,n=t,o=0;++o<14&&(e=r(n,0)-t,!(Math.abs(e)<.001));)n-=e/a(n);return n}(t),1)}};o.easing[e]=function(e,o,i,r,a){return r*n([t[0],t[1]],[t[2],t[3]])(o/a)+i}}return e}([.1,0,.25,1]),Jt="50%",Zt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Jt,thumbposition:Jt,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Kt,thumbheight:Kt,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Rt,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},te={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};function ee(){}function ne(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function oe(t){var e={};return $t?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function ie(t){return{"transition-duration":t+"ms"}}function re(t,e){return isNaN(t)?e:t}function ae(t,e){return re(+String(t).replace(e||"px",""))}function se(t,e){return re(function(t){return/%$/.test(t)?ae(t,"%"):i}(t)/100*e,ae(t))}function ue(t){return(!isNaN(ae(t))||!isNaN(ae(t,"%")))&&t}function le(t,e,n,o){return(t-(o||0))*(e+(n||0))}function ce(t,e,n,o){var i,r=t.data();r&&(r.onEndFn=function(){i||(i=!0,clearTimeout(r.tT),n())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*o),function(t){var e=t.data();e.tEnd||(Fe(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[pt.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0)}(t))}function fe(t,e){if(t.length){var n=t.data();$t?(t.css(ie(0)),n.onEndFn=ee,clearTimeout(n.tT)):t.stop();var o=de(e,function(){return function(t){return $t?+((e=t.css("transform")).match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]):+t.css("left").replace("px","");var e}(t)});return t.css(oe(o)),o}}function de(){for(var t,e=0,n=arguments.length;e<n&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function he(t,e){return Math.round(t+(e-t)/1.5)}function me(){return me.p=me.p||("https:"===n.protocol?"https://":"http://"),me.p}function pe(t,n){if("string"!=typeof t)return t;var o,i;if((t=function(t){var n=e.createElement("a");return n.href=t,n}(t)).host.match(/youtube\.com/)&&t.search){if(o=t.search.split("v=")[1]){var r=o.indexOf("&");-1!==r&&(o=o.substring(0,r)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(o=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",o=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return o&&i||!n||(o=t.href,i="custom"),!!o&&{id:o,type:i,s:t.search.replace(/^\?/,""),p:me()}}function ve(t,e,n,i){for(var r=0,a=t.length;r<a;r++){var s=t[r];if(s.i===n&&s.thumbsReady){var u={videoReady:!0};u[Xt]=u[Ut]=u[Qt]=!1,i.splice(r,1,o.extend({},s,u,e));break}}}function we(t){var e=[];function n(t,e,n){var i=n.thumb&&n.img!==n.thumb,r=ae(n.width||t.attr("width")),a=ae(n.height||t.attr("height"));o.extend(n,{width:r,height:a,thumbratio:Se(n.thumbratio||ae(n.thumbwidth||e&&e.attr("width")||i||r)/ae(n.thumbheight||e&&e.attr("height")||i||a))})}return t.children().each(function(){var t,i,r,a,s,u,l,c,f,d=o(this),h=Me(o.extend(d.data(),{id:d.attr("id")}));if(d.is("a, img"))i=h,r=!0,a=(t=d).children("img").eq(0),s=t.attr("href"),u=t.attr("src"),l=a.attr("src"),c=i.video,(f=!!r&&pe(s,!0===c))?s=!1:f=c,n(t,a,o.extend(i,{video:f,img:i.img||s||u||l,thumb:i.thumb||l||u||s}));else{if(d.is(":empty"))return;n(d,null,o.extend(h,{html:this,_html:d.html()}))}e.push(h)}),e}function ge(t,e,n,o){return ge.i||(ge.i=1,ge.ii=[!0]),o=o||ge.i,void 0===ge.ii[o]&&(ge.ii[o]=!0),t()?e():ge.ii[o]&&setTimeout(function(){ge.ii[o]&&ge(t,e,n,o)},n||100),ge.i++}function ye(t,e,n,o){var i,r=t.data(),a=r.measures;if(a&&(!r.l||r.l.W!==a.width||r.l.H!==a.height||r.l.r!==a.ratio||r.l.w!==e.w||r.l.h!==e.h||r.l.m!==n||r.l.p!==o)){var s=a.width,u=a.height,l=e.w/e.h,c=a.ratio>=l,f="scaledown"===n,d="contain"===n,h="cover"===n,m={x:ue((i=((i=o)+"").split(/\s+/))[0])||Jt,y:ue(i[1])||Jt};c&&(f||d)||!c&&h?u=(s=ne(e.w,0,f?s:1/0))/a.ratio:(c&&h||!c&&(f||d))&&(s=(u=ne(e.h,0,f?u:1/0))*a.ratio),t.css({width:s,height:u,left:se(m.x,e.w-s),top:se(m.y,e.h-u)}),r.l={W:a.width,H:a.height,r:a.ratio,w:e.w,h:e.h,m:n,p:o}}return!0}function be(t,e,n){return e!==n&&(t<=e?"left":t>=n?"right":"left right")}function xe(t,e,n,o){if(!n)return!1;if(!isNaN(t))return t-(o?0:1);for(var i,r=0,a=e.length;r<a;r++){if(e[r].id===t){i=r;break}}return i}function _e(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function Ce(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t}function Te(t){return"[object Array]"==Object.prototype.toString.call(t)&&o.map(t,function(t){return o.extend({},t)})}function ke(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function Me(t){if(t){var e={};return o.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function Se(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||i:e}}function Fe(t,e,n,o){e&&(t.addEventListener?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n))}function Ee(t){return{tabindex:-1*t+"",disabled:t}}function Pe(t,e){Fe(t,"keyup",function(n){(function(t){return!!t.getAttribute("disabled")})(t)||13==n.keyCode&&e.call(t,n)})}function je(t,e){Fe(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function Ne(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function $e(t){return t?">":"<"}function qe(t,e){var n=t.data(),i=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||ee)()};void 0!==e.overPos&&e.overPos!==e.pos&&(i=e.overPos,r=function(){qe(t,o.extend({},e,{overPos:e.pos,time:Math.max(Rt,e.time/2)}))});var a=o.extend(oe(i),e.width&&{width:e.width});n.sliding=!0,$t?(t.css(o.extend(ie(e.time),a)),e.time>10?ce(t,"transform",r,e.time):r()):t.stop().animate(a,e.time,Gt,r)}function ze(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=o.now()}function Ae(t,n){var i,r,a,s,u,l,c,f,d,h=t[0],m={};function p(t){if(a=o(t.target),m.checked=l=c=d=!1,i||m.flow||t.touches&&t.touches.length>1||t.which>1||kt&&kt.type!==t.type&&St||(l=n.select&&a.is(n.select,h)))return l;u="touchstart"===t.type,c=a.is("a, a *",h),s=m.control,f=m.noMove||m.noSwipe||s?16:m.snap?0:4,ze(t),r=kt=t,Mt=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||ee).call(h,t,{control:s,$target:a}),i=m.flow=!0,u&&!m.go||Ne(t)}function v(t){if(t.touches&&t.touches.length>1||Lt&&!t.isPrimary||Mt!==t.type||!i)return i&&w(),void(n.onTouchEnd||ee)();ze(t);var e=Math.abs(t._x-r._x),o=Math.abs(t._y-r._y),a=e-o,s=(m.go||m.x||a>=0)&&!m.noSwipe,l=a<0;u&&!m.checked?(i=s)&&Ne(t):(Ne(t),(n.onMove||ee).call(h,t,{touch:u})),!d&&Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>f&&(d=!0),m.checked=m.checked||s||l}function w(t){(n.onTouchEnd||ee)();var e=i;m.control=i=!1,e&&(m.flow=!1),!e||c&&!m.checked||(t&&Ne(t),St=!0,clearTimeout(Ft),Ft=setTimeout(function(){St=!1},1e3),(n.onEnd||ee).call(h,{moved:d,$target:a,control:s,touch:u,startEvent:r,aborted:!t||"MSPointerCancel"===t.type}))}function g(){m.flow&&setTimeout(function(){m.flow=!1},Dt)}return Lt?(Fe(h,"MSPointerDown",p),Fe(e,"MSPointerMove",v),Fe(e,"MSPointerCancel",w),Fe(e,"MSPointerUp",w)):(Fe(h,"touchstart",p),Fe(h,"touchmove",v),Fe(h,"touchend",w),Fe(e,"touchstart",function(){m.flow||setTimeout(function(){m.flow=!0},10)}),Fe(e,"touchend",g),Fe(e,"touchcancel",g),Et.on("scroll",g),t.on("mousedown",p),Pt.on("mousemove",v).on("mouseup",w)),t.on("click","a",function(t){m.checked&&Ne(t)}),m}function Oe(t,e){var n,i,r,a,s,u,l,c,f,d,h,m,p,v,w=t[0],g=t.data(),y={};function b(o,s){v=!0,n=i=o._x,l=o._now,u=[[l,n]],r=a=y.noMove||s?0:fe(t,(e.getPos||ee)()),(e.onStart||ee).call(w,o)}return y=o.extend(Ae(e.$wrap,o.extend({},e,{onStart:function(t,e){f=y.min,d=y.max,h=y.snap,m=t.altKey,v=p=!1,e.control||g.sliding||b(t)},onMove:function(o,l){y.noSwipe||(v||b(o),i=o._x,u.push([o._now,i]),s=be(a=r-(n-i),f,d),a<=f?a=he(a,f):a>=d&&(a=he(a,d)),y.noMove||(t.css(oe(a)),p||(p=!0,l.touch||Lt||t.addClass(tt)),(e.onMove||ee).call(w,o,{pos:a,edge:s})))},onEnd:function(n){if(!y.noSwipe||!n.moved){v||b(n.startEvent,!0),n.touch||Lt||t.removeClass(tt);for(var s,l,p,g,x,_,C,T,k,M=(c=o.now())-Dt,S=null,F=Rt,E=e.friction,P=u.length-1;P>=0;P--){if(s=u[P][0],l=Math.abs(s-M),null===S||l<p)S=s,g=u[P][1];else if(S===M||l>p)break;p=l}C=ne(a,f,d);var j=g-i,N=j>=0,$=c-S,q=$>Dt,z=!q&&a!==r&&C===a;h&&(C=ne(Math[z?N?"floor":"ceil":"round"](a/h)*h,f,d),f=d=C),z&&(h||C===a)&&(k=-j/$,F*=ne(Math.abs(k),e.timeLow,e.timeHigh),x=Math.round(a+k*F/E),h||(C=x),(!N&&x>d||N&&x<f)&&(_=N?f:d,h||(C=_),T=ne(C+.03*(T=x-_),_-50,_+50),F=Math.abs((a-T)/(k/E)))),F*=m?10:1,(e.onEnd||ee).call(w,o.extend(n,{moved:n.moved||q&&h,pos:a,newPos:C,overPos:T,time:F}))}}})),y)}function Le(t,e){var n,i,r,a=t[0],s={prevent:{}};return Fe(a,It,function(t){var a=t.wheelDeltaY||-1*t.deltaY||0,u=t.wheelDeltaX||-1*t.deltaX||0,l=Math.abs(u)&&!Math.abs(a),c=$e(u<0),f=i===c,d=o.now(),h=d-r<Dt;i=c,r=d,l&&s.ok&&(!s.prevent[c]||n)&&(Ne(t,!0),n&&f&&h||(e.shift&&(n=!0,clearTimeout(s.t),s.t=setTimeout(function(){n=!1},Wt)),(e.onEnd||ee)(t,e.shift?c:u)))}),s}function Ie(){o.each(o.Fotorama.instances,function(t,e){e.index=t})}ge.stop=function(t){ge.ii[t]=!1},jQuery.Fotorama=function(t,i){Ct=o("html"),Tt=o("body");var L,tt,st,mt,pt,wt,gt,yt,kt,Mt,St,Ft,jt,Nt,At,It,Wt,Gt,Jt,Zt,re,ce,he,ze,De,Re,We,He,Ke,Ve,Be,Xe,Qe,Ue,Ye,Ge,Je,Ze,tn,en,nn=this,on=o.now(),rn=r+on,an=t[0],sn=1,un=t.data(),ln=o("<style></style>"),cn=o(_e(B)),fn=o(_e(s)),dn=o(_e(b)).appendTo(fn),hn=(dn[0],o(_e(C)).appendTo(dn)),mn=o(),pn=o(_e(M+" "+F+ht)),vn=o(_e(M+" "+E+ht)),wn=pn.add(vn).appendTo(dn),gn=o(_e(j)),yn=o(_e(P)).appendTo(gn),bn=o(_e(N)).appendTo(yn),xn=o(),_n=o(),Cn=(hn.data(),bn.data(),o(_e(rt)).appendTo(bn)),Tn=o(_e(Q+ht)),kn=Tn[0],Mn=o(_e(ut)),Sn=o(_e(lt)).appendTo(dn)[0],Fn=o(_e(dt)),En=!1,Pn={},jn={},Nn={},$n={},qn={},zn={},An={},On=0,Ln=[];function In(){o.each(L,function(t,e){if(!e.i){e.i=sn++;var n=pe(e.video,!0);if(n){var i={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:i=function(t,e,n){var i,r,a=t.video;return"youtube"===a.type?(i=(r=me()+"img.youtube.com/vi/"+a.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===a.type?o.ajax({url:me()+"vimeo.com/api/v2/video/"+a.id+".json",dataType:"jsonp",success:function(o){t.thumbsReady=!0,ve(e,{img:o[0].thumbnail_large,thumb:o[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:i,thumb:r}}(e,L,nn),ve(L,{img:i.img,thumb:i.thumb},e.i,nn)}}})}function Dn(t){return He[t]||nn.fullScreen}function Rn(e){var n;e!==Rn.f&&(e?(t.html("").addClass(r+" "+rn).append(fn).before(ln).before(cn),n=nn,o.Fotorama.instances.push(n),Ie()):(fn.detach(),ln.detach(),cn.detach(),t.html(un.urtext).removeClass(rn),function(t){o.Fotorama.instances.splice(t.index,1),Ie()}(nn)),function(t){var e="keydown."+r,n=r+on,o="keydown."+n,s="resize."+n+" orientationchange."+n;t?(Pt.on(o,function(t){var e,n;pt&&27===t.keyCode?(e=!0,ko(pt,!0,!0)):(nn.fullScreen||i.keyboard&&!nn.index)&&(27===t.keyCode?(e=!0,nn.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&Dn("space")||37===t.keyCode&&Dn("left")||38===t.keyCode&&Dn("up")?n="<":32===t.keyCode&&Dn("space")||39===t.keyCode&&Dn("right")||40===t.keyCode&&Dn("down")?n=">":36===t.keyCode&&Dn("home")?n="<<":35===t.keyCode&&Dn("end")&&(n=">>")),(e||n)&&Ne(t),n&&nn.show({index:n,slow:t.altKey,user:!0})}),nn.index||Pt.off(e).on(e,"textarea, input, select",function(t){!Tt.hasClass(a)&&t.stopPropagation()}),Et.on(s,nn.resize)):(Pt.off(o),Et.off(s))}(e),Rn.f=e)}function Wn(){var t=tt<2&&!i.enableifsingleframe||pt;jn.noMove=t||re,jn.noSwipe=t||!i.swipe,!De&&hn.toggleClass(T,!i.click&&!jn.noMove&&!jn.noSwipe),Lt&&fn.toggleClass(p,!jn.noSwipe)}function Hn(t){!0===t&&(t=""),i.autoplay=Math.max(+t||Ht,1.5*ze)}function Kn(t){return t<0?(tt+t%tt)%tt:t>=tt?t%tt:t}function Vn(t){return ne(t,0,tt-1)}function Bn(t){return At?Kn(t):Vn(t)}function Xn(t){return!!(t>0||At)&&t-1}function Qn(t){return!!(t<tt-1||At)&&t+1}function Un(t,e,n){if("number"==typeof t){t=new Array(t);var i=!0}return o.each(t,function(t,o){if(i&&(o=t),"number"==typeof o){var r=L[Kn(o)];if(r){var a="$"+e+"Frame",s=r[a];n.call(this,t,o,r,s,a,s&&s.data())}}})}function Yn(t,e,n,o){(!Ke||"*"===Ke&&o===Nt)&&(t=ue(i.width)||ue(t)||Vt,e=ue(i.height)||ue(e)||Bt,nn.resize({width:t,ratio:i.ratio||n||t/e},0,o!==Nt&&"*"))}function Gn(t,e,n,r,a,s){Un(t,e,function(t,u,l,c,f,d){if(c){var h=nn.fullScreen&&l.full&&l.full!==l.img&&!d.$full&&"stage"===e;if(!d.$img||s||h){var m=new Image,p=o(m),v=p.data();d[h?"$full":"$img"]=p;var w="stage"===e?h?"full":"img":"thumb",g=l[w],y=h?null:l["stage"===e?"thumb":"img"];"navThumb"===e&&(c=d.$wrap),g?(o.Fotorama.cache[g]?function t(){"error"===o.Fotorama.cache[g]?x():"loaded"===o.Fotorama.cache[g]?setTimeout(_,0):setTimeout(t,100)}():(o.Fotorama.cache[g]="*",p.on("load",_).on("error",x)),d.state="",m.src=g):x()}}function b(t){var e=Kn(u);go(t,{index:e,src:g,frame:L[e]})}function x(){p.remove(),o.Fotorama.cache[g]="error",l.html&&"stage"===e||!y||y===g?(!g||l.html||h?"stage"===e&&(c.trigger("f:load").removeClass(Y+" "+U).addClass(G),b("load"),Yn()):(c.trigger("f:error").removeClass(Y).addClass(U),b("error")),d.state="error",!(tt>1&&L[u]===l)||l.html||l.deleted||l.video||h||(l.deleted=!0,nn.splice(u,1))):(l[w]=g=y,Gn([u],e,n,r,a,!0))}function _(){var t=10;ge(function(){return!Ge||!t--&&!Ot},function(){o.Fotorama.measures[g]=v.measures=o.Fotorama.measures[g]||{width:m.width,height:m.height,ratio:m.width/m.height},Yn(v.measures.width,v.measures.height,v.measures.ratio,u),p.off("load error").addClass(et+(h?" "+nt:"")).prependTo(c),ye(p,(o.isFunction(n)?n():n)||Pn,r||l.fit||i.fit,a||l.position||i.position),o.Fotorama.cache[g]=d.state="loaded",setTimeout(function(){c.trigger("f:load").removeClass(Y+" "+U).addClass(G+" "+(h?J:Z)),"stage"===e?b("load"):(l.thumbratio===Yt||!l.thumbratio&&i.thumbratio===Yt)&&(l.thumbratio=v.measures.ratio,$o())},0)})}})}function Jn(){Fn.detach(),mt&&mt.stop()}function Zn(){var t,e=wt[Xt];e&&!e.data().state&&(t=e,Fn.append(mt.spin().el).appendTo(t),e.on("f:load f:error",function(){e.off("f:load f:error"),Jn()}))}function to(t){Pe(t,Po),je(t,function(){setTimeout(function(){ke(yn)},0),ho({time:ze,guessIndex:o(this).data().eq,minMax:$n})})}function eo(t,e){Un(t,e,function(t,n,i,r,a,s){if(!r){r=i[a]=fn[a].clone(),(s=r.data()).data=i;var u=r[0];"stage"===e?(i.html&&o('<div class="'+at+'"></div>').append(i._html?o(i.html).removeAttr("id").html(i._html):i.html).appendTo(r),i.caption&&o(_e(ct,_e(ft,i.caption))).appendTo(r),i.video&&r.addClass(_).append(Mn.clone()),je(u,function(){setTimeout(function(){ke(dn)},0),Fo({index:s.eq,user:!0})}),mn=mn.add(r)):"navDot"===e?(to(u),xn=xn.add(r)):"navThumb"===e&&(to(u),s.$wrap=r.children(":first"),_n=_n.add(r),i.video&&s.$wrap.append(Mn.clone()))}})}function no(t,e,n,o){return t&&t.length&&ye(t,e,n,o)}function oo(t){Un(t,"stage",function(t,n,r,a,s,u){if(a){var l,c=Kn(n),f=r.fit||i.fit,d=r.position||i.position;u.eq=c,An[Xt][c]=a.css(o.extend({left:re?0:le(n,Pn.w,i.margin,yt)},re&&ie(0))),l=a[0],o.contains(e.documentElement,l)||(a.appendTo(hn),ko(r.$video)),no(u.$img,Pn,f,d),no(u.$full,Pn,f,d)}})}function io(t,e){if("thumbs"===It&&!isNaN(t)){var n=-t,r=-t+Pn.nw;_n.each(function(){var t=o(this).data(),a=t.eq,s=function(){return{h:he,w:t.w}},u=s(),l=L[a]||{},c=l.thumbfit||i.thumbfit,f=l.thumbposition||i.thumbposition;u.w=t.w,t.l+t.w<n||t.l>r||no(t.$img,u,c,f)||e&&Gn([a],"navThumb",s,c,f)})}}function ro(t,e,n){if(!ro[n]){var r="nav"===n&&Wt,a=0;e.append(t.filter(function(){for(var t,e=o(this),n=e.data(),i=0,r=L.length;i<r;i++)if(n.data===L[i]){t=!0,n.eq=i;break}return t||e.remove()&&!1}).sort(function(t,e){return o(t).data().eq-o(e).data().eq}).each(function(){if(r){var t=o(this),e=t.data(),n=Math.round(he*e.data.thumbratio)||ce;e.l=a,e.w=n,t.css({width:n}),a+=n+i.thumbmargin}})),ro[n]=!0}}function ao(t){return t-On>Pn.w/3}function so(t){return!(At||En+t&&En-tt+t||pt)}function uo(){var t=so(0),e=so(1);pn.toggleClass(S,t).attr(Ee(t)),vn.toggleClass(S,e).attr(Ee(e))}function lo(){Nn.ok&&(Nn.prevent={"<":so(0),">":so(1)})}function co(t){var e,n,o=t.data();return Wt?(e=o.l,n=o.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*i.thumbmargin,max:-e+Pn.w-n-10*i.thumbmargin}}function fo(t){var e=wt[Ze].data();qe(Cn,{time:1.2*t,pos:e.l,width:e.w-2*i.thumbborderwidth})}function ho(t){var e=L[t.guessIndex][Ze];if(e){var n=$n.min!==$n.max,o=t.minMax||n&&co(wt[Ze]),i=n&&(t.keep&&ho.l?ho.l:ne((t.coo||Pn.nw/2)-co(e).c,o.min,o.max)),r=n&&ne(i,$n.min,$n.max),a=1.1*t.time;qe(bn,{time:a,pos:r||0,onEnd:function(){io(r,!0)}}),To(yn,be(r,$n.min,$n.max)),ho.l=i}}function mo(t){for(var e=zn[t];e.length;)e.shift().removeClass(K)}function po(t){var e=An[t];o.each(gt,function(t,n){delete e[Kn(n)]}),o.each(e,function(t,n){delete e[t],n.detach()})}function vo(t){yt=kt=En;var e=wt[Xt];e&&(mo(Xt),zn[Xt].push(e.addClass(K)),t||nn.show.onEnd(!0),fe(hn,0),po(Xt),oo(gt),jn.min=At?-1/0:-le(tt-1,Pn.w,i.margin,yt),jn.max=At?1/0:-le(0,Pn.w,i.margin,yt),jn.snap=Pn.w+i.margin,$n.min=Math.min(0,Pn.nw-bn.width()),$n.max=0,bn.toggleClass(T,!($n.noMove=$n.min===$n.max)))}function wo(t,e){t&&o.each(e,function(e,n){n&&o.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:Se(t.ratio)})})}function go(e,n){t.trigger(r+":"+e,[nn,n])}function yo(){clearTimeout(bo.t),Ge=1,i.stopautoplayontouch?nn.stopAutoplay():Qe=!0}function bo(){Ge&&(i.stopautoplayontouch||(xo(),_o()),bo.t=setTimeout(function(){Ge=0},Rt+Dt))}function xo(){Qe=!(!pt&&!Ue)}function _o(){if(clearTimeout(_o.t),ge.stop(_o.w),i.autoplay&&!Qe){nn.autoplay||(nn.autoplay=!0,go("startautoplay"));var t=En,e=wt[Xt].data();_o.w=ge(function(){return e.state||t!==En},function(){_o.t=setTimeout(function(){if(!Qe&&t===En){var e=jt,n=L[e][Xt].data();_o.w=ge(function(){return n.state||e!==jt},function(){Qe||e!==jt||nn.show(At?$e(!We):jt)})}},i.autoplay)})}else nn.autoplay&&(nn.autoplay=!1,go("stopautoplay"))}function Co(){nn.fullScreen&&(nn.fullScreen=!1,zt&&vt.cancel(an),Tt.removeClass(a),Ct.removeClass(a),t.removeClass(X).insertAfter(cn),Pn=o.extend({},Ye),ko(pt,!0,!0),Eo("x",!1),nn.resize(),Gn(gt,"stage"),ke(Et,Be,Ve),go("fullscreenexit"))}function To(t,e){Re&&(t.removeClass(W+" "+H),e&&!pt&&t.addClass(e.replace(/^|\s/g," "+R+"--")))}function ko(t,e,n){e&&(fn.removeClass(c),pt=!1,Wn()),t&&t!==pt&&(t.remove(),go("unloadvideo")),n&&(xo(),_o())}function Mo(t){fn.toggleClass(h,t)}function So(t){if(!jn.flow){var e=t?t.pageX:So.x,n=e&&!so(ao(e))&&i.click;So.p!==n&&dn.toggleClass(k,n)&&(So.p=n,So.x=e)}}function Fo(t){clearTimeout(Fo.t),i.clicktransition&&i.clicktransition!==i.transition?setTimeout(function(){var e=i.transition;nn.setOptions({transition:i.clicktransition}),De=e,Fo.t=setTimeout(function(){nn.show(t)},10)},0):nn.show(t)}function Eo(t,e){jn[t]=$n[t]=e}function Po(t){Fo({index:o(this).data().eq,slow:t.altKey,user:!0,coo:t._x-yn.offset().left})}function jo(t){Fo({index:wn.index(this)?">":"<",slow:t.altKey,user:!0})}function No(t){je(t,function(){setTimeout(function(){ke(dn)},0),Mo(!1)})}function $o(){if(L=nn.data=L||Te(i.data)||we(t),tt=nn.size=L.length,!qo.ok&&i.shuffle&&Ce(L),In(),En=Vn(En),tt&&Rn(!0),function(){nn.options=i=Me(i),re="crossfade"===i.transition||"dissolve"===i.transition,At=i.loop&&(tt>2||re&&(!De||"slide"!==De)),ze=+i.transitionduration||Rt,We="rtl"===i.direction,He=o.extend({},i.keyboard&&te,i.keyboard);var t,e,n,r={add:[],remove:[]};function a(t,e){r[t?"add":"remove"].push(e)}tt>1||i.enableifsingleframe?(It=i.nav,Gt="top"===i.navposition,r.remove.push(V),wn.toggle(!!i.arrows)):(It=!1,wn.hide()),Jn(),mt=new bt(o.extend(xt,i.spinner,_t,{direction:We?-1:1})),uo(),lo(),i.autoplay&&Hn(i.autoplay),ce=ae(i.thumbwidth)||Kt,he=ae(i.thumbheight)||Kt,Nn.ok=qn.ok=i.trackpad&&!Ot,Wn(),wo(i,[Pn]),(Wt="thumbs"===It)?(eo(tt,"navThumb"),st=_n,Ze=Ut,t=ln,e=o.Fotorama.jst.style({w:ce,h:he,b:i.thumbborderwidth,m:i.thumbmargin,s:on,q:!qt}),(n=t[0]).styleSheet?n.styleSheet.cssText=e:t.html(e),yn.addClass(q).removeClass($)):"dots"===It?(eo(tt,"navDot"),st=xn,Ze=Qt,yn.addClass($).removeClass(q)):(It=!1,yn.removeClass(q+" "+$)),It&&(Gt?gn.insertBefore(dn):gn.insertAfter(dn),ro.nav=!1,ro(st,bn,"nav")),(Jt=i.allowfullscreen)?(Tn.prependTo(dn),Zt=zt&&"native"===Jt):(Tn.detach(),Zt=!1),a(re,f),a(!re,d),a(!i.captions,g),a(We,v),a("always"!==i.arrows,y),a(!(Re=i.shadows&&!Ot),m),fn.addClass(r.add.join(" ")).removeClass(r.remove.join(" ")),o.extend({},i)}(),!$o.i){$o.i=!0;var e=i.startindex;(e||i.hash&&n.hash)&&(Nt=xe(e||n.hash.replace(/^#/,""),L,0===nn.index||e,e)),En=yt=kt=Mt=Nt=Bn(Nt)||0}if(tt){if(function t(){if(!t.f===We)return t.f=We,En=tt-1-En,nn.reverse(),!0}())return;pt&&ko(pt,!0),gt=[],po(Xt),$o.ok=!0,nn.show({index:En,time:0}),nn.resize()}else nn.destroy()}function qo(){qo.ok||(qo.ok=!0,go("ready"))}fn[Xt]=o(_e(x)),fn[Ut]=o(_e(z+" "+O+ht,_e(it))),fn[Qt]=o(_e(z+" "+A+ht,_e(ot))),zn[Xt]=[],zn[Ut]=[],zn[Qt]=[],An[Xt]={},fn.addClass($t?l:u).toggleClass(h,!i.controlsonstart),un.fotorama=this,nn.startAutoplay=function(t){return nn.autoplay?this:(Qe=Ue=!1,Hn(t||i.autoplay),_o(),this)},nn.stopAutoplay=function(){return nn.autoplay&&(Qe=Ue=!0,_o()),this},nn.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?kt+1:"<"===e?kt-1:"<<"===e?0:">>"===e?tt-1:e,e=void 0===(e=isNaN(e)?xe(e,L,!0):e)?En||0:e,nn.activeIndex=En=Bn(e),St=Xn(En),Ft=Qn(En),jt=Kn(En+(We?-1:1)),gt=[En,St,Ft],kt=At?e:En;var r=Math.abs(Mt-kt),a=de(t.time,function(){return Math.min(ze*(1+(r-1)/12),2*ze)}),s=t.overPos;t.slow&&(a*=10);var u=wt;nn.activeFrame=wt=L[En];var l=u===wt&&!t.user;ko(pt,wt.i!==L[Kn(yt)].i),eo(gt,"stage"),oo(Ot?[kt]:[kt,Xn(kt),Qn(kt)]),Eo("go",!0),l||go("show",{user:t.user,time:a}),Qe=!0;var c,f=nn.show.onEnd=function(e){if(!f.ok){if(f.ok=!0,e||vo(!0),l||go("showend",{user:t.user}),!e&&De&&De!==i.transition)return nn.setOptions({transition:De}),void(De=!1);Zn(),Gn(gt,"stage"),Eo("go",!1),lo(),So(),xo(),_o()}};re?function t(e,n,i,r,a,s){var u=void 0!==s;if(u||(a.push(arguments),Array.prototype.push.call(arguments,a.length),!(a.length>1))){e=e||o(e),n=n||o(n);var l=e[0],c=n[0],f="crossfade"===r.method,d=function(){if(!d.done){d.done=!0;var e=(u||a.shift())&&a.shift();e&&t.apply(this,e),(r.onEnd||ee)(!!e)}},h=r.time/(s||1);i.removeClass(D+" "+I),e.stop().addClass(D),n.stop().addClass(I),f&&c&&e.fadeTo(0,0),e.fadeTo(f?h:0,1,f&&d),n.fadeTo(h,0,d),l&&f||c||d()}}(wt[Xt],En!==Mt?L[Mt][Xt]:null,mn,{time:a,method:i.transition,onEnd:f},Ln):qe(hn,{pos:-le(kt,Pn.w,i.margin,yt),overPos:s,time:a,onEnd:f});if(uo(),It){mo(Ze),zn[Ze].push(wt[Ze].addClass(K));var d=Vn(En+ne(kt-Mt,-1,1));ho({time:a,coo:d!==En&&t.coo,guessIndex:void 0!==t.coo?d:En,keep:l}),Wt&&fo(a)}return Xe=void 0!==Mt&&Mt!==En,Mt=En,i.hash&&Xe&&!nn.eq&&(c=wt.id||En+1,n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+c)),this},nn.requestFullScreen=function(){return Jt&&!nn.fullScreen&&(Ve=Et.scrollTop(),Be=Et.scrollLeft(),ke(Et),Eo("x",!0),Ye=o.extend({},Pn),t.addClass(X).appendTo(Tt.addClass(a)),Ct.addClass(a),ko(pt,!0,!0),nn.fullScreen=!0,Zt&&vt.request(an),nn.resize(),Gn(gt,"stage"),Zn(),go("fullscreenenter")),this},nn.cancelFullScreen=function(){return Zt&&vt.is()?vt.cancel(e):Co(),this},nn.toggleFullScreen=function(){return nn[(nn.fullScreen?"cancel":"request")+"FullScreen"]()},Fe(e,vt.event,function(){!L||vt.is()||pt||Co()}),nn.resize=function(t){if(!L)return this;var e=arguments[1]||0,n=arguments[2];wo(nn.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:Me(t),[Pn,n||nn.fullScreen||i]);var o=Pn.width,r=Pn.height,a=Pn.ratio,s=Et.height()-(It?yn.height():0);return ue(o)&&(fn.addClass(w).css({width:o,minWidth:Pn.minwidth||0,maxWidth:Pn.maxwidth||99999}),o=Pn.W=Pn.w=fn.width(),Pn.nw=It&&se(i.navwidth,o)||o,i.glimpse&&(Pn.w-=Math.round(2*(se(i.glimpse,o)||0))),hn.css({width:Pn.w,marginLeft:(Pn.W-Pn.w)/2}),(r=(r=se(r,s))||a&&o/a)&&(o=Math.round(o),r=Pn.h=Math.round(ne(r,se(Pn.minheight,s),se(Pn.maxheight,s))),dn.stop().animate({width:o,height:r},e,function(){fn.removeClass(w)}),vo(),It&&(yn.stop().animate({width:Pn.nw},e),ho({guessIndex:En,time:e,keep:!0}),Wt&&ro.nav&&fo(e)),Ke=n||!0,qo())),On=dn.offset().left,this},nn.setOptions=function(t){return o.extend(i,t),$o(),this},nn.shuffle=function(){return L&&Ce(L)&&$o(),this},nn.destroy=function(){return nn.cancelFullScreen(),nn.stopAutoplay(),L=nn.data=null,Rn(),gt=[],po(Xt),$o.ok=!1,this},nn.playVideo=function(){var t=wt,e=t.video,n=En;return"object"==typeof e&&t.videoReady&&(Zt&&nn.fullScreen&&nn.cancelFullScreen(),ge(function(){return!vt.is()||n!==En},function(){n===En&&(t.$video=t.$video||o(o.Fotorama.jst.video(e)),t.$video.appendTo(t[Xt]),fn.addClass(c),pt=t.$video,Wn(),wn.blur(),Tn.blur(),go("loadvideo"))})),this},nn.stopVideo=function(){return ko(pt,!0,!0),this},dn.on("mousemove",So),jn=Oe(hn,{onStart:yo,onMove:function(t,e){To(dn,e.edge)},onTouchEnd:bo,onEnd:function(t){To(dn);var e,n,r,a,s=(Lt&&!Je||t.touch)&&i.arrows&&"always"!==i.arrows;if(t.moved||s&&t.pos!==t.newPos&&!t.control){var u=(e=t.newPos,n=Pn.w,r=i.margin,a=yt,-Math.round(e/(n+(r||0))-(a||0)));nn.show({index:u,time:re?ze:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t,e){var n=t.target;o(n).hasClass(ut)?nn.playVideo():n===kn?nn.toggleFullScreen():pt?n===Sn&&ko(pt,!0,!0):e?Mo():i.click&&Fo({index:t.shiftKey||$e(ao(t._x)),slow:t.altKey,user:!0})}(t.startEvent,s)},timeLow:1,timeHigh:1,friction:2,select:"."+V+", ."+V+" *",$wrap:dn}),$n=Oe(bn,{onStart:yo,onMove:function(t,e){To(yn,e.edge)},onTouchEnd:bo,onEnd:function(t){function e(){ho.l=t.newPos,xo(),_o(),io(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(Qe=!0,qe(bn,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),io(t.newPos),Re&&To(yn,be(t.newPos,$n.min,$n.max))):e();else{var n=t.$target.closest("."+z,bn)[0];n&&Po.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:yn}),Nn=Le(dn,{shift:!0,onEnd:function(t,e){yo(),bo(),nn.show({index:e,slow:t.altKey})}}),qn=Le(yn,{onEnd:function(t,e){yo(),bo();var n=fe(bn)+.25*e;bn.css(oe(ne(n,$n.min,$n.max))),Re&&To(yn,be(n,$n.min,$n.max)),qn.prevent={"<":n>=$n.max,">":n<=$n.min},clearTimeout(qn.t),qn.t=setTimeout(function(){ho.l=n,io(n,!0)},Dt),io(n)}}),fn.hover(function(){setTimeout(function(){Ge||Mo(!(Je=!0))},0)},function(){Je&&Mo(!(Je=!1))}),tn=function(t){Ne(t),jo.call(this,t)},en=(en={onStart:function(){yo(),jn.control=!0},onTouchEnd:bo})||{},wn.each(function(){var t,e=o(this),n=e.data();n.clickOn||(n.clickOn=!0,o.extend(Ae(e,{onStart:function(e){t=e,(en.onStart||ee).call(this,e)},onMove:en.onMove||ee,onTouchEnd:en.onTouchEnd||ee,onEnd:function(e){e.moved||tn.call(this,t)}}),{noMove:!0}))}),wn.each(function(){Pe(this,function(t){jo.call(this,t)}),No(this)}),Pe(kn,nn.toggleFullScreen),No(kn),o.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){nn[e]=function(){return L=L||[],"load"!==e?Array.prototype[e].apply(L,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(L=Te(arguments[0])),$o(),nn}}),$o()},o.fn.fotorama=function(e){return this.each(function(){var n=this,i=o(this),r=i.data(),a=r.fotorama;a?a.setOptions(e,!0):ge(function(){return!(0===(t=n).offsetWidth&&0===t.offsetHeight);var t},function(){r.urtext=i.html(),new o.Fotorama(i,o.extend({},Zt,t.fotoramaDefaults,e,r))})})},o.Fotorama.instances=[],o.Fotorama.cache={},o.Fotorama.measures={},(o=o||{}).Fotorama=o.Fotorama||{},o.Fotorama.jst=o.Fotorama.jst||{},o.Fotorama.jst.style=function(t){var e,n="";return n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},o.Fotorama.jst.video=function(t){var e="",n=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=n.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>\n'},o(function(){o("."+r+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery);